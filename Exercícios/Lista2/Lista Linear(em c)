#include <stdio.h>
#include <stdlib.h>

typedef struct ListaLinear{
    int max;
    int *array;
    int n;
}ListaLinear;

ListaLinear* newListaLinear(int max){
    ListaLinear *lista = (ListaLinear*) malloc(sizeof(ListaLinear));
    lista->max = max;
    lista->n = 0;
    lista->array = (int*)malloc(max*sizeof(int));
    return lista;
}

void delListaLinear(ListaLinear* lista){
    if(lista != NULL){
        free(lista->array);
        free(lista);
    }
}
    
void inserirInicio(ListaLinear* lista, int elem){
    if(lista->n >= lista->max){
        printf("Erro!");
        return; 
    }
    for(int i = lista->n; i > 0; i--){
        lista->array[i] = lista->array[i-1];
    }
    lista->array[0] = elem;
    lista->n++;
}    


void mostrar(ListaLinear* lista){
    printf("[");
    for(int i = 0; i < lista->n; i++){
        printf("%d", lista->array[i]);
        if(i < lista->n -1){
            printf(", ");
        }
    }
    printf("]\n");
}

void inserirFim(ListaLinear* lista, int elem){
    if(lista->n >= lista->max){
        printf("Erro!");
        return; 
    }
    lista->array[lista->n++] = elem;
}

int removerInicio(ListaLinear* lista){
    int x = lista->array[0];
    for(int i = 0; i < lista->n; i++){
        lista->array[i] = lista->array[i+1];
    }
    lista->n--;
    return x;
}

 int removerFim(ListaLinear* lista){
     lista->n--;
     int x = lista->array[lista->n];
     return x;
 }

int main(){
    ListaLinear *lista = newListaLinear(6);
    inserirInicio(lista, 1);
    inserirInicio(lista,2);
    inserirInicio(lista, 3);
    inserirFim(lista, 4);
    removerInicio(lista);
    removerFim(lista);
    mostrar(lista);
    delListaLinear(lista);
    return 0;
}
